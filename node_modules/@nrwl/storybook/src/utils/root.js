"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRoot = void 0;
const tslib_1 = require("tslib");
const core_1 = require("@angular-devkit/core");
const ngcli_adapter_1 = require("@nrwl/devkit/ngcli-adapter");
function getRoot(context) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const workspaceHost = core_1.workspaces.createWorkspaceHost(new ngcli_adapter_1.NxScopedHost(core_1.normalize(context.workspaceRoot)));
        const { workspace } = yield core_1.workspaces.readWorkspace('', workspaceHost);
        if (workspace.projects.get(context.target.project).root) {
            return workspace.projects.get(context.target.project).root;
        }
        else {
            context.reportStatus('Error');
            const message = `${context.target.project} does not have a root. Please define one.`;
            context.logger.error(message);
            throw new Error(message);
        }
    });
}
exports.getRoot = getRoot;
//# sourceMappingURL=root.js.map