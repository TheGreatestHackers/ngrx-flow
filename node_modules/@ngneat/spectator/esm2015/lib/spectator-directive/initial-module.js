import { NO_ERRORS_SCHEMA } from '@angular/core';
import { initialModule } from '../base/initial-module';
/**
 * @internal
 */
export function initialSpectatorDirectiveModule(options) {
    const moduleMetadata = initialModule(options);
    if (options.declareDirective) {
        moduleMetadata.declarations.push(options.directive);
    }
    moduleMetadata.declarations.push(options.host);
    moduleMetadata.schemas = [options.shallow ? NO_ERRORS_SCHEMA : options.schemas || []];
    return moduleMetadata;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdGlhbC1tb2R1bGUuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL25ldGFuZWxiYXNhbC93d3cvc3BlY3RhdG9yL3Byb2plY3RzL3NwZWN0YXRvci9zcmMvIiwic291cmNlcyI6WyJsaWIvc3BlY3RhdG9yLWRpcmVjdGl2ZS9pbml0aWFsLW1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFakQsT0FBTyxFQUFFLGFBQWEsRUFBa0IsTUFBTSx3QkFBd0IsQ0FBQztBQUd2RTs7R0FFRztBQUNILE1BQU0sVUFBVSwrQkFBK0IsQ0FBTyxPQUFrRDtJQUN0RyxNQUFNLGNBQWMsR0FBRyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFOUMsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLEVBQUU7UUFDNUIsY0FBYyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQ3JEO0lBQ0QsY0FBYyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRS9DLGNBQWMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsQ0FBQztJQUV0RixPQUFPLGNBQWMsQ0FBQztBQUN4QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTk9fRVJST1JTX1NDSEVNQSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBpbml0aWFsTW9kdWxlLCBNb2R1bGVNZXRhZGF0YSB9IGZyb20gJy4uL2Jhc2UvaW5pdGlhbC1tb2R1bGUnO1xuaW1wb3J0IHsgU3BlY3RhdG9yRGlyZWN0aXZlT3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucyc7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsU3BlY3RhdG9yRGlyZWN0aXZlTW9kdWxlPEQsIEg+KG9wdGlvbnM6IFJlcXVpcmVkPFNwZWN0YXRvckRpcmVjdGl2ZU9wdGlvbnM8RCwgSD4+KTogTW9kdWxlTWV0YWRhdGEge1xuICBjb25zdCBtb2R1bGVNZXRhZGF0YSA9IGluaXRpYWxNb2R1bGUob3B0aW9ucyk7XG5cbiAgaWYgKG9wdGlvbnMuZGVjbGFyZURpcmVjdGl2ZSkge1xuICAgIG1vZHVsZU1ldGFkYXRhLmRlY2xhcmF0aW9ucy5wdXNoKG9wdGlvbnMuZGlyZWN0aXZlKTtcbiAgfVxuICBtb2R1bGVNZXRhZGF0YS5kZWNsYXJhdGlvbnMucHVzaChvcHRpb25zLmhvc3QpO1xuXG4gIG1vZHVsZU1ldGFkYXRhLnNjaGVtYXMgPSBbb3B0aW9ucy5zaGFsbG93ID8gTk9fRVJST1JTX1NDSEVNQSA6IG9wdGlvbnMuc2NoZW1hcyB8fCBbXV07XG5cbiAgcmV0dXJuIG1vZHVsZU1ldGFkYXRhO1xufVxuIl19